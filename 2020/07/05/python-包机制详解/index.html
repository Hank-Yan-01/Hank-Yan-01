<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="é—«æµ©å¼º">


    <meta name="subtitle" content="Hank-Yan">


    <meta name="description" content="é—«æµ©å¼º">


    <meta name="keywords" content="Hank-Yan, yanhaoqiang, é—«æµ©å¼º, ç®—æ³•, å¤§æ•°æ®">


<title>python åŒ…æœºåˆ¶è¯¦è§£ | Hank-Yan</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 6.0.0"></head>

<body>
    <script>
        // this function is used to check current theme before page loaded.
        (() => {
            const currentTheme = window.localStorage && window.localStorage.getItem('theme') || '';
            const isDark = currentTheme === 'dark';
            const pagebody = document.getElementsByTagName('body')[0]
            if (isDark) {
                pagebody.classList.add('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "Â· Dark"
            } else {
                pagebody.classList.remove('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "Â· Light"
            }
        })();
    </script>

    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">é¢†æ‚Ÿæ•°æ®ä¹‹ç¾</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">æ–‡ç« </a>
                
                    <a class="menu-item" href="/category">åˆ†ç±»</a>
                
                    <a class="menu-item" href="/tag">æ ‡ç­¾</a>
                
                    <a class="menu-item" href="/about">å…³äº</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">é¢†æ‚Ÿæ•°æ®ä¹‹ç¾</a><a id="mobile-toggle-theme">Â·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">æ–‡ç« </a>
                
                    <a class="menu-item" href="/category">åˆ†ç±»</a>
                
                    <a class="menu-item" href="/tag">æ ‡ç­¾</a>
                
                    <a class="menu-item" href="/about">å…³äº</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
            <div class="main">
                <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    var tocbot_timer;
    var DEPTH_MAX = 6; // ä¸º 6 æ—¶å±•å¼€æ‰€æœ‰
    var tocbot_default_config = {
        tocSelector: '.tocbot-list',
        contentSelector: '.post-content',
        headingSelector: 'h1, h2, h3, h4, h5',
        orderedList: false,
        scrollSmooth: true,
        onClick: extend_click,
    };

    function extend_click() {
        clearTimeout(tocbot_timer);
        tocbot_timer = setTimeout(function() {
            tocbot.refresh(obj_merge(tocbot_default_config, {
                hasInnerContainers: true
            }));
        }, 420); // è¿™ä¸ªå€¼æ˜¯ç”± tocbot æºç é‡Œå®šä¹‰çš„ scrollSmoothDuration å¾—æ¥çš„
    }

    document.ready(function() {
        tocbot.init(obj_merge(tocbot_default_config, {
            collapseDepth: 1
        }));
    });

    function expand_toc() {
        var b = document.querySelector('.tocbot-toc-expand');
        var expanded = b.getAttribute('data-expanded');
        expanded ? b.removeAttribute('data-expanded') : b.setAttribute('data-expanded', true);
        tocbot.refresh(obj_merge(tocbot_default_config, {
            collapseDepth: expanded ? 1 : DEPTH_MAX
        }));
        b.innerText = expanded ? 'Expand all' : 'Collapse all';
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

    function obj_merge(target, source) {
        for (var item in source) {
            if (source.hasOwnProperty(item)) {
                target[item] = source[item];
            }
        }
        return target;
    }
</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">python åŒ…æœºåˆ¶è¯¦è§£</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">é—«æµ©å¼º</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">ä¸ƒæœˆ 5, 2020&nbsp;&nbsp;18:44:57</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%9F%BA%E7%A1%80/">æ•°æ®å¤„ç†åŸºç¡€</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <h2 id="ä¸€-é—®é¢˜èƒŒæ™¯"><a href="#ä¸€-é—®é¢˜èƒŒæ™¯" class="headerlink" title="ä¸€. é—®é¢˜èƒŒæ™¯"></a>ä¸€. é—®é¢˜èƒŒæ™¯</h2><p>æ— è®ºå“ªä¸€ç§è¯­è¨€ï¼Œéšç€é¡¹ç›®çš„å¢å¤§ï¼Œéƒ½ä¼šè¿›è¡Œé€‚å½“çš„æ¨¡å—åˆ’åˆ†ï¼Œéšä¹‹è€Œæ¥çš„å°±æ˜¯å„ä¸ªæ¨¡å—ä¸­å‡½æ•°æˆ–è€…æ–¹æ³•é‡åçš„é—®é¢˜ã€‚è‡ªå·±æ¨¡å—ä¸­å¯¹å¤–æä¾›çš„æ–¹æ³•ï¼Œåº”è¯¥é¿å…å…¶ä»–æ¨¡å—ä¸­æä¾›çš„æ–¹æ³•é‡åï¼Œå¦åˆ™å°±ä¼šä¹±å¥—ã€‚ä½†æ˜¯ï¼Œè¦å¯¹æ¯ä¸ªæ¨¡å—èµ·ä¸€ä¸ªä¸é‡åçš„æ–¹æ³•æ˜¯ä¸€ä»¶éå¸¸å›°éš¾çš„äº‹æƒ…ï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå„ç§è¯­è¨€é€‰æ‹©äº†è‡ªå·±çš„æ–¹å¼ï¼Œæ¯”å¦‚ java é€šè¿‡åŒ…æœºåˆ¶è§£å†³ï¼Œä¸€ä¸ª java ç±»æ–‡ä»¶ä¸€å®šåœ¨ä¸€ä¸ª package é‡Œé¢ï¼ˆé»˜è®¤ä¹Ÿä¼šæœ‰ä¸€ä¸ª packageï¼‰ï¼Œjava ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œå®é™…ä¸Šéƒ½æ˜¯å¸¦åŒ…åçš„å…¨è·¯å¾„æ–¹æ³•ï¼›æ¯”å¦‚ php ï¼Œæ¯ä¸ªç±»æ–‡ä»¶å¯ä»¥å®šä¹‰å…¶å‘½åç©ºé—´ï¼Œè°ƒç”¨çš„ç±»ä¹Ÿæ˜¯å¸¦å‘½åç©ºé—´çš„ï¼ŒPSR è§„èŒƒå‘å±•äº†ä¸€ä»£åˆä¸€ä»£ï¼Œéšç€ namespace çš„å‘å±•ï¼Œæ–‡ä»¶åŠ è½½æœºåˆ¶ä¹Ÿå‘ç”Ÿäº†è®¸å¤šå˜åŒ–ï¼Œæœ€ç»ˆä½¿å¾—å¼€å‘è¿‡ç¨‹å˜çš„æ•´æ´å¹²å‡€ã€‚package å’Œ namespace æ˜¯è§£å†³æˆå‘˜é‡åçš„é‡è¦æ‰‹æ®µã€‚å„ç§è¯­è¨€éƒ½ç±»ä¼¼ã€‚ä»Šå¤©æˆ‘ä»¬é‡ç‚¹è®¨è®ºçš„æ˜¯ python çš„åŒ…æœºåˆ¶ï¼Œå®é™…ä¸Šå°±æ˜¯python çš„ package æœºåˆ¶ã€‚</p>
<blockquote>
<p>ps: ä¸‹æ–‡å¾ˆå¤šåœ°æ–¹ä½¿ç”¨ java çš„package ä½œä¸ºç±»æ¯”æ¥è§£é‡Š python çš„åŒ…æœºåˆ¶æœ´ç´ æ€æƒ³ï¼Œå®é™…ä¸Šä»»ä½•çš„å‘½åç©ºé—´éƒ½ç±»ä¼¼ï¼Œä¸ä¸€å®šéæ˜¯ java.</p>
</blockquote>
<h2 id="äºŒ-python-ä¸­çš„æ¨¡å—åŠ è½½æœºåˆ¶"><a href="#äºŒ-python-ä¸­çš„æ¨¡å—åŠ è½½æœºåˆ¶" class="headerlink" title="äºŒ. python ä¸­çš„æ¨¡å—åŠ è½½æœºåˆ¶"></a>äºŒ. python ä¸­çš„æ¨¡å—åŠ è½½æœºåˆ¶</h2><h3 id="1-python-ä¸­å¦‚ä½•å¼•å…¥ä¸€ä¸ªâ€œåŒ…â€"><a href="#1-python-ä¸­å¦‚ä½•å¼•å…¥ä¸€ä¸ªâ€œåŒ…â€" class="headerlink" title="1. python ä¸­å¦‚ä½•å¼•å…¥ä¸€ä¸ªâ€œåŒ…â€"></a>1. python ä¸­å¦‚ä½•å¼•å…¥ä¸€ä¸ªâ€œåŒ…â€</h3><p>å…ˆå›é¡¾ä¸€ä¸‹javaé‡Œé¢æ˜¯å¦‚ä½•å®šä¹‰ä¸€ä¸ª package çš„ã€‚å®é™…ä¸Šåœ¨ java é‡Œï¼Œæ¯ä¸ªæºæ–‡ä»¶çš„ç¬¬ä¸€è¡Œä¼šæœ‰å¦‚ä¸‹çš„ä¸€è¡Œï¼Œæ„æ€æ˜¯è¯´ï¼Œå½“å‰çš„ demo ç›®å½•æ˜¯ä¸€ä¸ªpackage,Â  é‡Œé¢çš„ç±»ï¼Œæ¯”å¦‚ Test.java ï¼Œåœ¨è¢«åˆ«äººè°ƒç”¨çš„æ—¶å€™ï¼Œè¦ä½¿ç”¨ <code>com.hankyan.demo.Test</code> çš„æ–¹å¼æ¥è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´åŠ ä¸ŠåŒ…åæ‰æ˜¯å®Œæ•´çš„ç±»åå­—ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.hankyan.demo;</span><br></pre></td></tr></table></figure>
<p>å†æ¥çœ‹ python é‡Œé¢æ˜¯æ€ä¹ˆå®šä¹‰ package çš„ï¼Ÿ python çš„åŒ…ä¹Ÿå¾ˆç®€å•ï¼Œä»»ä½•ä¸€ä¸ªç›®å½•åªè¦æ·»åŠ ä¸€ä¸ª <strong>init</strong>.py ï¼Œæ™®é€šç›®å½•å°±å˜æˆäº†ä¸€ä¸ª package. è‡ªç„¶çš„ï¼Œpackage é‡Œé¢çš„æ–‡ä»¶å¦‚ä½•è¢«åˆ«äººè°ƒç”¨å‘¢ï¼Ÿ åº”è¯¥ä¹Ÿç±»ä¼¼ java, æœ‰ä¸€ä¸ªå…¨è·¯å¾„åã€‚ æˆ‘ä»¬ä»¥ä¸‹é¢çš„ç¤ºä¾‹ä»£ç æ¥åˆ†ææ¼”ç¤º:<br>ç›®å½•ç»“æ„:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">module_learn</span><br><span class="line">â”œâ”€â”€ __init__.py</span><br><span class="line">â”œâ”€â”€ pkg1</span><br><span class="line">â”‚ Â  â”œâ”€â”€ __init__.py</span><br><span class="line">â”‚ Â  â””â”€â”€ run.py</span><br><span class="line">â””â”€â”€ pkg4</span><br><span class="line"> Â   â”œâ”€â”€ demo.py</span><br><span class="line"> Â   â”œâ”€â”€ __init__.py</span><br><span class="line">â€‹```</span><br><span class="line">pkg1/run.py å†…å®¹:</span><br><span class="line">```python</span><br><span class="line">import sys</span><br><span class="line">print(&quot;pkg1/run.py run...&quot;)</span><br><span class="line">from pkg4.demo import main</span><br><span class="line">main()</span><br></pre></td></tr></table></figure>
<p>pkg4/demo.py å†…å®¹:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">Â  Â <span class="built_in">print</span>(sys.path)</span><br><span class="line">Â  Â <span class="built_in">print</span>(<span class="string">&quot;pkg4.py run...&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šï¼Œæ ¹ç›®å½•æ˜¯module_learn, æˆ‘ä»¬åœ¨ pkg1/run.py é‡Œé¢è°ƒç”¨äº†åŒçº§ç›®å½• pkg4é‡Œæ¨¡å— demo çš„æ–¹æ³• ï¼Œç°åœ¨åŠ å…¥æˆ‘ä»¬æƒ³æ‰§è¡Œ pkg1 çš„ run æ¨¡å—è¯¥æ€ä¹ˆæ‰§è¡Œï¼Ÿç»™å‡ ä¸ªé€‰é¡¹ï¼Œå¯ä»¥æ€è€ƒä¸€ä¸‹ï¼šÂ </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">â‘  åœ¨ pkg1 ç›®å½•é‡Œæ‰§è¡Œ Â   python run.py</span><br><span class="line">â‘¡ åœ¨ module_learn ç›®å½•é‡Œé¢æ‰§è¡Œ  python pkg1/run.py Â </span><br><span class="line">â‘¢ åœ¨ module_learn ç›®å½•çš„å¤–é¢æ‰§è¡Œ Â  python module_learn/pkg1/run.py </span><br></pre></td></tr></table></figure>
<p>å®é™…ä¸Šä¸Šé¢ä¸‰ç§éƒ½æ˜¯é”™çš„ã€‚Â <br>ç¬¬ä¸€ç§æ‰§è¡Œç»“æœ:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[map@cp01-yanhaoqiang-devpkg1]$</span><span class="bash"> python run.py</span> </span><br><span class="line">pkg1/run.py run...</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;run.py&quot;, line 7, in &lt;module&gt;</span><br><span class="line"> Â   from module_learn.pkg4.demo import main</span><br><span class="line">ImportError: No module named pkg4.demo</span><br></pre></td></tr></table></figure>
<p>ç¬¬äºŒç§æ‰§è¡Œç»“æœ:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[map@cp01-yanhaoqiang-devmodule_learn]$</span><span class="bash"> python pkg1/run.py</span> </span><br><span class="line">pkg1/run.py run...</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;pkg1/run.py&quot;, line 7, in &lt;module&gt;</span><br><span class="line"> Â   from module_learn.pkg4.demo import main</span><br><span class="line">ImportError: No module named pkg4.demo</span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸‰ç§æ‰§è¡Œç»“æœ:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[map@cp01-yanhaoqiang-devspark_learn]$</span><span class="bash"> python module_learn/pkg1/run.py</span> </span><br><span class="line">pkg1/run.py run...</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;module_learn/pkg1/run.py&quot;, line 7, in &lt;module&gt;</span><br><span class="line"> Â   from module_learn.pkg4.demo import main</span><br><span class="line">ImportError: No module named pkg4.demo</span><br></pre></td></tr></table></figure>
<p>è¿™å°±å¾ˆå¥‡æ€ªäº†ï¼Œéƒ½æŠ¥ pkg4.demo æ‰¾ä¸åˆ°ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ æ‰¾ä¸åˆ°å°±æ˜¯å‘½åç©ºé—´ä¸å¯¹ï¼Œä¹Ÿå°±æ˜¯åŒ…åä¸å¯¹ï¼Œä½†æ˜¯çœ‹ä¸Šå»ç¬¬äºŒç§æ˜¯æœ€å¯èƒ½å¯¹çš„ï¼Œå› ä¸º java é‡Œé¢å°±æ˜¯è¿™æ ·çš„ç›®å½•ç»“æ„å•Šï¼Œä»€ä¹ˆæƒ…å†µå‘¢ï¼ŸÂ </p>
<h3 id="2-python-ä¸­çš„æ¨¡å—æœç´¢æœºåˆ¶"><a href="#2-python-ä¸­çš„æ¨¡å—æœç´¢æœºåˆ¶" class="headerlink" title="2. python ä¸­çš„æ¨¡å—æœç´¢æœºåˆ¶"></a>2. python ä¸­çš„æ¨¡å—æœç´¢æœºåˆ¶</h3><p>è¿™é‡Œå®é™…ä¸Šå°±è¦å¼•å…¥ python çš„æ¨¡å—æœç´¢æœºåˆ¶äº†ï¼Œpython é‡åˆ° import ä¸€ä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œä¼šé€šè¿‡ä¸‹é¢å‡ ä¸ªè·¯å¾„æœç´¢è¦åŠ è½½çš„æ¨¡å—ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. æ‰§è¡Œè„šæœ¬æ‰€åœ¨çš„ç›®å½• ï¼ˆ æ¯”å¦‚  python run.py  å°±æ˜¯ pkg1;  å®è´¨ä¸Šï¼Œpython  pkg1/run.py å’Œ python module_learn/pkg1/run.py è¿™ä¸ªç›®å½•éƒ½æ˜¯  pkg1ï¼‰</span><br><span class="line">2. PYTHON_PATH ç¯å¢ƒå˜é‡é‡Œé¢</span><br><span class="line">3. site-package çš„ pth æ–‡ä»¶é‡Œé¢ï¼ˆè¿™ä¸ªæ–‡ä»¶é‡Œé¢å¯ä»¥å†™å¾ˆå¤šè·¯å¾„ï¼Œä»¥è¢«æœç´¢ï¼‰</span><br><span class="line">4. site-package ä¸‹é¢çš„å„ä¸ªåŒ…é‡Œé¢</span><br></pre></td></tr></table></figure>
<p>å®é™…ä¸Šï¼Œä¸Šé¢çš„å‡ ä¸ªè·¯å¾„ï¼Œå¯ä»¥åœ¨ sys æ¨¡å—çš„ çš„ sys.path æŸ¥çœ‹ï¼Œ sys.path æ˜¯ä¸€ä¸ª listã€‚ä¸Šé¢ä¹‹æ‰€ä»¥æŠ¥é”™ï¼Œå°±æ˜¯å› ä¸ºæœç´¢è·¯å¾„ä¸‹é¢çœŸçš„æ˜¯æ²¡æœ‰ pkg4.demo è¿™ä¸ªæ¨¡å—ã€‚ é‚£ä¹ˆè¯¥æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ å¾ˆç®€å•:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[map@cp01-yanhaoqiang-devmodule_learn]$</span><span class="bash"> python -m pkg1.run</span> </span><br><span class="line">pkg1/run.py run...</span><br><span class="line">[&#x27;&#x27;, &#x27;/home/map/.jumbo/lib/python27.zip&#x27;, &#x27;/home/map/.jumbo/lib/python2.7&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/plat-linux2&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-tk&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-old&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-dynload&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/site-packages&#x27;]</span><br><span class="line">pkg4.py run...</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šæ‰€ç¤ºï¼Œæˆ‘ä»¬ä½¿ç”¨Â  python -mÂ  æ¥æŠŠä¸€ä¸ª python æ–‡ä»¶å½“åšä¸€ä¸ª python æ¨¡å—æ‰§è¡Œï¼Œå³å¯å®Œç¾è§£å†³ã€‚Â </p>
<h3 id="3-python-m-æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ"><a href="#3-python-m-æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ" class="headerlink" title="3. python -m æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ"></a>3. python -m æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</h3><p>è™½ç„¶ä¸Šé¢æ­£å¸¸æ‰§è¡Œäº†ï¼Œä½†æ˜¯æˆ‘ä»¬ä¼šå¿ƒå­˜ç–‘é—®ï¼Œpython -m åˆ°åº•æ˜¯ä»€ä¹ˆä¸œè¥¿? æŸ¥çœ‹ç›¸å…³æ–‡æ¡£ä»‹ç»: </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-m mod run library module as a script (terminates option list)</span><br></pre></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆ <code>python -m pkg1.run</code> å°±èƒ½è¿è¡ŒæˆåŠŸï¼Œ <code>python pkg1/run.py</code> å°±ä¸è¡Œå‘¢ï¼Ÿ ä¸ºäº†äº†è§£çœŸç›¸ï¼Œæˆ‘ä»¬æŠŠ sys.path æ‰“å‡ºæ¥çœ‹çœ‹åŒºåˆ«ã€‚Â <br>æ›´æ”¹ pkg1/run.py å†…å®¹ï¼Œä»€ä¹ˆéƒ½ä¸å¹²ï¼Œç›´æ¥æ‰“å° sys.path, æŸ¥çœ‹ä¸¤ç§æ‰§è¡Œæ–¹å¼æœ‰ä½•å¼‚åŒï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;pkg1/run.py run...&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(sys.path)</span><br></pre></td></tr></table></figure>
<p>â‘  æ‰§è¡ŒÂ <code>python -m pkg1.run</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[map@cp01-yanhaoqiang-devmodule_learn]$</span><span class="bash"> python -m pkg1.run</span> </span><br><span class="line">pkg1/run.py run...</span><br><span class="line">[&#x27;&#x27;, &#x27;/home/map/.jumbo/lib/python27.zip&#x27;, &#x27;/home/map/.jumbo/lib/python2.7&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/plat-linux2&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib</span><br><span class="line">-tk&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-old&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-dynload&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/site-packages&#x27;]</span><br></pre></td></tr></table></figure>
<p>â‘¡ æ‰§è¡Œ <code>python pkg1/run.py</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[map@cp01-yanhaoqiang-devmodule_learn]$</span><span class="bash"> python pkg1/run.py</span> </span><br><span class="line">pkg1/run.py run...</span><br><span class="line">[&#x27;/home/map/yanhaoqiang/huiyan/spark_learn/spark_learn/module_learn/pkg1&#x27;, &#x27;/home/map/.jumbo/lib/python27.zip&#x27;, &#x27;/home/map/.jumbo/lib/python2.7&#x27;, &#x27;/home/map/</span><br><span class="line">.jumbo/lib/python2.7/plat-linux2&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-tk&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-old&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-dyn</span><br><span class="line">load&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/site-packages&#x27;]</span><br></pre></td></tr></table></figure>

<h3 id="4-æœ¬èŠ‚å°ç»“"><a href="#4-æœ¬èŠ‚å°ç»“" class="headerlink" title="4. æœ¬èŠ‚å°ç»“"></a>4. æœ¬èŠ‚å°ç»“</h3><p><strong>é—®é¢˜çš„æœ¬è´¨æ¸…æ™°äº†</strong>ï¼Œå®é™…ä¸Šï¼Œæˆ‘ä»¬å‘ç°ä¸¤ç§æ–¹å¼ï¼Œsys.path å¹¶ä¸å®Œå…¨ç›¸åŒï¼Œ<strong>æ³¨æ„çœ‹ä¸Šé¢ list çš„ç¬¬ 0 ä¸ªä½ç½®</strong>ï¼Œä½¿ç”¨Â  -m æ‰§è¡Œçš„æ—¶å€™ï¼Œ <strong>æ˜¯ä¸€ä¸ª â€˜â€™, ä»£è¡¨äº†å½“å‰ç›®å½•</strong>ï¼Œä¹Ÿå°±æ˜¯ module_learn ç›®å½•ï¼› è€Œ <code>python pkg1/run.py</code> çš„æ—¶å€™ï¼Œ è¿™ä¸ªç›®å½•æ˜¯Â  pkg1 ç›®å½•ã€‚ çœŸç›¸å¤§ç™½ã€‚ç»“åˆå‰é¢è®²çš„æ¨¡å—æœç´¢è·¯å¾„å¯ä»¥çœ‹åˆ°ã€‚ ç›´æ¥ä½¿ç”¨ python pkg1/run.py çš„æ—¶å€™ï¼Œå› ä¸ºå½“å‰ç›®å½•æ˜¯ pkg1ï¼Œè€Œåœ¨è¿™ä¸ªç›®å½•å½“ç„¶æ‰¾ä¸åˆ° pkg4.demo äº†ï¼Œæ‰€ä»¥æŠ¥é”™äº†ã€‚ è€Œ <code>python -m pkg1.run</code> å› ä¸ºå½“å‰ç›®å½•æ˜¯ â€˜â€™,Â  Â ä¹Ÿå°±æ˜¯ module_learnï¼Œæ‰€ä»¥èƒ½å¤Ÿæ­£ç¡®è¿è¡Œã€‚è€Œè¿™é‡Œçš„Â  pkg1.runÂ  æ˜¯ä¸æ˜¯ç±»ä¼¼ java é‡Œçš„åŒ…è·¯å¾„å‘¢ï¼Ÿ å½“ç„¶ä½ ä¼šè¯´å¦‚æœå®Œå…¨ç±»ä¼¼ java é‡Œé¢çš„åº”è¯¥æ˜¯Â  python -mÂ  module_learn.pkg1.run .Â  æˆ‘ä»¬å¯ä»¥ç¨åšä¿®æ”¹ï¼Œè®© python ä»£ç æ›´åƒjavaçš„æ–¹å¼ä½¿ç”¨ package:<br>åˆ° module_learn çš„çˆ¶ç›®å½•ï¼Œæ›´æ”¹ run1 çš„ä»£ç </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;pkg1/run.py run...&quot;</span>)</span><br><span class="line"><span class="keyword">from</span> module_learn.pkg4.demo <span class="keyword">import</span> main</span><br><span class="line">main()</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œåœ¨ä¸Šé¢çš„ä»£ç é‡Œï¼Œæˆ‘ä»¬æŠŠ run.py ä»£ç åŠ è½½ pkg4.demoçš„é€»è¾‘Â <code>ä»Â  from pkg4.demo import main æ”¹ä¸ºäº†Â  from module_learn.pkg4.demo import main</code>ï¼Œ åŠ äº†ä¸ªé¡¶å±‚ç›®å½• module_learn, ç„¶åæ‰§è¡Œ:<br><code>python -m module_learn.pkg1.runï¼š</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[map@cp01-yanhaoqiang-devspark_learn]$</span><span class="bash"> python -m module_learn.pkg1.run</span></span><br><span class="line">pkg1/run.py run...</span><br><span class="line">[&#x27;&#x27;, &#x27;/home/map/.jumbo/lib/python27.zip&#x27;, &#x27;/home/map/.jumbo/lib/python2.7&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/plat-linux2&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-tk&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-old&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-dynload&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/site-packages&#x27;]</span><br><span class="line">pkg4.py run...</span><br></pre></td></tr></table></figure>
<p>æ˜ç™½äº†å§ï¼Œä¹Ÿæ˜¯æ­£å¸¸è¿è¡Œçš„ï¼Œ æ­¤æ—¶çš„ module_learn.pkg1.runÂ  æ˜¯ä¸æ˜¯å·²ç»å¾ˆåƒ java é‡Œçš„ package äº†å‘¢ï¼Ÿ å°±æ˜¯è¿™æ ·ã€‚</p>
<h2 id="ä¸‰-ç›¸å¯¹è·¯å¾„å¯¼å…¥ä¸ç»å¯¹è·¯å¾„å¯¼å…¥"><a href="#ä¸‰-ç›¸å¯¹è·¯å¾„å¯¼å…¥ä¸ç»å¯¹è·¯å¾„å¯¼å…¥" class="headerlink" title="ä¸‰. ç›¸å¯¹è·¯å¾„å¯¼å…¥ä¸ç»å¯¹è·¯å¾„å¯¼å…¥"></a>ä¸‰. ç›¸å¯¹è·¯å¾„å¯¼å…¥ä¸ç»å¯¹è·¯å¾„å¯¼å…¥</h2><h3 id="1-æˆ‘ä»¬åœ¨è®¨è®ºçš„å½“å‰è·¯å¾„æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1-æˆ‘ä»¬åœ¨è®¨è®ºçš„å½“å‰è·¯å¾„æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1. æˆ‘ä»¬åœ¨è®¨è®ºçš„å½“å‰è·¯å¾„æ˜¯ä»€ä¹ˆï¼Ÿ"></a>1. æˆ‘ä»¬åœ¨è®¨è®ºçš„å½“å‰è·¯å¾„æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œä¸Šé¢ä½¿ç”¨ python -m æ‰§è¡Œæ¨¡å—çš„æ—¶å€™ï¼Œèƒ½å¤Ÿå°†Â  â€˜â€™,Â  ä¹Ÿå°±æ˜¯å½“å‰ç›®å½•åŠ å…¥åˆ° sys.path é‡Œé¢ã€‚ è¿™é‡Œï¼Œå½“å‰ç›®å½•ï¼ŒæŒ‡çš„æ˜¯æ•² <code>python ***.py å‘½ä»¤çš„ç›®å½•ï¼Œè€Œé ***.py</code>Â  è„šæœ¬æ‰€åœ¨çš„ç›®å½•ã€‚æ‰€ä»¥ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé™¤äº†ä½¿ç”¨ python -m æ‰§è¡Œå¤–ï¼Œè¿˜å¯ä»¥ç›´æ¥æŠŠå½“å‰ç›®å½•åŠ å…¥åˆ° PYTHON_PATH é‡Œé¢ã€‚ ä½ å¯ä»¥è¿™æ ·åš:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash">python <span class="keyword">for</span> me</span> </span><br><span class="line">local_p=`dirname $0`</span><br><span class="line">export PYTHONPATH=$PYTHONPATH:./</span><br><span class="line">â€‹</span><br><span class="line"><span class="meta">$</span><span class="bash">local_p/bin/python2.7 <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span></span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šï¼Œä½¿ç”¨ä¸€ä¸ªsh è„šæœ¬ æ¯”å¦‚å°†è¯¥è„šæœ¬å‘½åä¸º python ï¼ˆç›¸å½“äºå’±ä»¬è‡ªå·±åŒ…è£…äº† python è§£é‡Šå™¨ï¼Œä¹Ÿå‘½åä¸º python, ä¹‹åç”¨è¯¥è§£é‡Šå™¨ï¼‰ï¼Œç„¶ååœ¨é‡Œé¢åŠ å…¥Â  export PYTHONPATH=$PYTHONPATH:./Â  Â å°±è¿™ä¹ˆçŸ­çŸ­ä¸€å¥ï¼Œå°±èƒ½æŠŠå½“å‰ç›®å½•åŠ å…¥åˆ° PYTHON_PATH é‡Œé¢ã€‚ä¹‹åå†æ‰§è¡ŒÂ  python pkg1/run.py å°±èƒ½æ­£å¸¸è¿è¡Œäº†ã€‚ è¿™æ˜¯æ˜ç™½é—®é¢˜æ ¹æºä¹‹åï¼Œåšçš„ä¸€ä¸ªå˜é€šã€‚<br>æˆ‘ä»¬è¿™é‡Œä¸€ç›´åœ¨è°ˆâ€œå½“å‰ç›®å½•â€ã€‚å†…åœ¨çš„åŒ…å«äº†ä¸€ä¸ªé—®é¢˜ã€‚å³åœ¨ python æ¨¡å—ä¸­ï¼Œ å¼•å…¥å…¶ä»–æ¨¡å—çš„æ—¶å€™ï¼Œæˆ‘çš„è·¯å¾„ç©¶ç«Ÿè¯¥æ€ä¹ˆå†™ï¼Ÿå½“å‰ç›®å½•æ˜¯è°ï¼Ÿå…¶å®åœ¨ä¸Šé¢å°è¯•çš„æ—¶å€™ï¼Œæˆ‘ä»¬å·²ç»éšçº¦æœ‰äº†ç­”æ¡ˆï¼š<br>â‘  å½“æ ¹ç›®å½•æ˜¯ module_learn æ—¶:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">module_learn</span><br><span class="line">â”œâ”€â”€ __init__.py</span><br><span class="line">â”œâ”€â”€ pkg1</span><br><span class="line">â”‚ Â  â”œâ”€â”€ __init__.py</span><br><span class="line">â”‚ Â  â””â”€â”€ run.py</span><br><span class="line">â””â”€â”€ pkg4</span><br><span class="line"> Â   â”œâ”€â”€ demo.py</span><br><span class="line"> Â   â”œâ”€â”€ __init__.py</span><br><span class="line">æˆ‘ä»¬åœ¨Â  pkg1/run.py é‡Œä½¿ç”¨äº†ä¸‹é¢å‘½ä»¤å¼•å…¥Â  pkg4/demo.py çš„å‡½æ•° mainï¼š</span><br><span class="line">from pkg4.demo import main</span><br></pre></td></tr></table></figure>
<p>â‘¡ å½“æ ¹ç›®å½•æ—¶Â module_learn çˆ¶ç›®å½•æ—¶ï¼Œå¦‚ä¸‹æ—¶ spark_learn æ—¶ï¼ˆè¯·å¿½ç•¥æ–‡ä»¶å¤¹åå­— ğŸ˜‚ï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">â”€â”€ spark_learn</span><br><span class="line"> Â   â”œâ”€â”€ __init__.py</span><br><span class="line"> Â   â”œâ”€â”€ __main__.py</span><br><span class="line"> Â   â”œâ”€â”€ module_learn</span><br><span class="line"> Â   â”‚ Â  â”œâ”€â”€ __init__.py</span><br><span class="line"> Â   â”‚ Â  â”œâ”€â”€ pkg1</span><br><span class="line"> Â   â”‚ Â  â”‚ Â  â”œâ”€â”€ __init__.py</span><br><span class="line"> Â   â”‚ Â  â”‚ Â  â””â”€â”€ run.py</span><br><span class="line"> Â   â”‚ Â  â””â”€â”€ pkg4</span><br><span class="line"> Â   â”‚ Â  Â  Â  â”œâ”€â”€ demo.py</span><br><span class="line"> Â   â”‚ Â  Â  Â  â”œâ”€â”€ __init__.py</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åœ¨Â  <code>pkg1/run.py</code> é‡Œä½¿ç”¨äº†ä¸‹é¢å‘½ä»¤å¼•å…¥Â  <code>pkg4/demo.py</code> çš„å‡½æ•° mainï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> module_learn.pkg4.demo <span class="keyword">import</span> main</span><br></pre></td></tr></table></figure>
<p>ç»“è®º: éšç€ä½ è®¤ä¸ºçš„æ ¹ç›®å½•çš„ä¸åŒï¼Œå¼•å…¥çš„æ—¶å€™ï¼Œä¹Ÿç›¸å¯¹æœ‰å·®å¼‚ã€‚å…¶å®è¿™å’Œå…¶ä»–è¯­è¨€æ˜¯ç±»ä¼¼çš„ã€‚ åœ¨ java é‡Œé¢ä¸€å®šæœ‰ä¸€ä¸ªæ ¹ç›®å½•ï¼Œä¹‹åçš„ package éƒ½æ˜¯ç›¸å¯¹äºè¿™ä¸ªæ ¹ç›®å½•çš„ã€‚æ‰€ä»¥åœ¨ python é‡Œé¢ï¼Œä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼Œé¦–å…ˆç¡®å®šæ ¹ç›®å½•ï¼Œç„¶ååœ¨ä¹‹åæ‰€æœ‰çš„å­ç›®å½•é‡Œé¢ï¼Œç”¨ç»å¯¹å¼•ç”¨çš„æ–¹å¼ï¼Œæ¥åº”ç”¨è‡ªå·±éœ€è¦çš„æ¨¡å—ã€‚è¿™é‡Œæåˆ°äº†ç»å¯¹å¼•ç”¨ï¼Œå°±æ˜¯ä»æ ¹ç›®å½•å¼€å§‹ï¼ŒæŠŠæ‰€æœ‰è·¯å¾„éƒ½å†™ä¸Šçš„æ–¹å¼ã€‚</p>
<h3 id="2-ç›¸å¯¹è·¯å¾„æ˜¯æ€ä¹ˆå›äº‹å„¿ï¼Ÿ"><a href="#2-ç›¸å¯¹è·¯å¾„æ˜¯æ€ä¹ˆå›äº‹å„¿ï¼Ÿ" class="headerlink" title="2. ç›¸å¯¹è·¯å¾„æ˜¯æ€ä¹ˆå›äº‹å„¿ï¼Ÿ"></a>2. ç›¸å¯¹è·¯å¾„æ˜¯æ€ä¹ˆå›äº‹å„¿ï¼Ÿ</h3><p>å†è¿›ä¸€æ­¥ï¼Œæƒ³æƒ³ä¸Šé¢çš„ç»å¯¹è·¯å¾„å¼•ç”¨æœ‰ä»€ä¹ˆé—®é¢˜ï¼ŸÂ <br>å¦‚æœæ•´ä¸ªé¡¹ç›®éƒ½æ˜¯è‡ªå·±çš„ï¼Œå…¶å®æ²¡ä»€ä¹ˆå¤§é—®é¢˜ï¼Œæœ€å¤§çš„é—®é¢˜å¯èƒ½å°±æ˜¯éº»çƒ¦äº†ï¼Œæ¯æ¬¡éƒ½è¦ä»æ ¹ç›®å½•ï¼Œå†™ä¸€é•¿ä¸²æ¥å¼•ç”¨ä¸€ä¸ªæ¨¡å—ï¼›å¦ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œéœ€è¦æŠŠé¡¶å±‚ç›®å½•ç¡¬ç¼–ç åœ¨ä»£ç é‡Œé¢ï¼Œè¿™æ ·åœ¨æƒ³æ›´æ”¹åŒ…åçš„æ—¶å€™å¾ˆéº»çƒ¦ã€‚å¦‚æœä½ å†™çš„æ¨¡å—è¦è¢«å…¶ä»–äººä½¿ç”¨ï¼ˆéå®‰è£…æ–¹å¼ï¼‰ï¼Œé‚£ç»å¯¹è·¯å¾„å¼•ç”¨ä¼šå¼•å‡ºè®¸å¤šå…¶ä»–çš„é—®é¢˜ï¼Œè®©è°ƒç”¨æ–¹å¾ˆå¤´ç–¼ï¼Œä¸‹é¢ä¼šè®²åˆ°ã€‚python ä»¥ç®€æ´è‘—ç§°ï¼Œè‚¯å®šä¸å…è®¸è¿™ä¸¤ç§æƒ…å†µå‡ºç°ï¼Œæ‰€ä»¥ python åœ¨å¯¼å…¥åŒ…è¿™å—æ›´è¿›ä¸€æ­¥ï¼Œæå‡ºäº†ç›¸å¯¹è·¯å¾„å¯¼å…¥åŒ…çš„æ–¹æ¡ˆï¼Œå…ˆçœ‹çœ‹ç›¸å¯¹å¯¼å…¥æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œå‡å¦‚æœ‰å¦‚ä¸‹ç›®å½•ç»“æ„ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">package/</span><br><span class="line"> Â   __init__.py</span><br><span class="line"> Â   subpackage1/</span><br><span class="line"> Â  Â  Â   __init__.py</span><br><span class="line"> Â  Â  Â   moduleX.py</span><br><span class="line"> Â  Â  Â   moduleY.py</span><br><span class="line"> Â   subpackage2/</span><br><span class="line"> Â  Â  Â   __init__.py</span><br><span class="line"> Â  Â  Â   moduleZ.py</span><br><span class="line"> Â   moduleA.py</span><br></pre></td></tr></table></figure>
<p>ä½ å½“å‰åœ¨ç›®å½• moduleX.py é‡Œé¢ï¼Œä½ æƒ³å¼•ç”¨å…¶ä»–æ¨¡å—çš„å†…å®¹ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ ä¸‹é¢çš„æ–¹æ³•éƒ½æ˜¯å¯è¡Œçš„ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> .moduleY <span class="keyword">import</span> spam</span><br><span class="line"><span class="keyword">from</span> .moduleY <span class="keyword">import</span> spam <span class="keyword">as</span> ham</span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> moduleY</span><br><span class="line"><span class="keyword">from</span> ..subpackage1 <span class="keyword">import</span> moduleY</span><br><span class="line"><span class="keyword">from</span> ..subpackage2.moduleZ <span class="keyword">import</span> eggs</span><br><span class="line"><span class="keyword">from</span> ..moduleA <span class="keyword">import</span> foo</span><br><span class="line"><span class="keyword">from</span> ...package <span class="keyword">import</span> bar</span><br><span class="line"><span class="keyword">from</span> ...sys <span class="keyword">import</span> path ï¼ˆé¾Ÿå”å†™çš„æœ€åè¿™ä¸€æ¡ï¼Œä½†æ˜¯åˆè¯´ä¸¥ç¦è¿™ä¹ˆä½¿ç”¨ğŸ˜‚ï¼‰</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä¸€ä¸ªç‚¹ï¼ˆ.ï¼‰ä»£è¡¨å½“å‰ç›®å½•ï¼Œä¸¤ä¸ªç‚¹ï¼ˆ..ï¼‰ä»£è¡¨ä¸Šå±‚ç›®å½•ï¼Œä¸‰ä¸ªç‚¹ï¼ˆâ€¦ï¼‰ä»£è¡¨çˆ·çˆ·ç›®å½•ï¼Œä¾æ­¤ç±»æ¨ï¼Œç”¨æ³•ç®€ä»‹ï¼Œè¡¨è¾¾åŠ›å¼ºï¼ˆps: ä¸ºå•¥ç”¨è¿™ç§æ–¹å¼ï¼Œæœ‰ä¸€æ®µå¾ˆæœ‰æ„æ€çš„å†å²ï¼Œè§ <code>pep328:</code> <a target="_blank" rel="noopener" href="https://www.python.org/dev/peps/pep-0328/">https://www.python.org/dev/peps/pep-0328/</a> )ã€‚<br>å¯ä»¥çœ‹åˆ°ï¼Œéå¸¸çµæ´»ã€‚è¿™æ ·åªè¦åœ¨æ ¹ç›®å½•ï¼Œæˆ–è€…çˆ¶ç›®å½•ï¼Œéƒ½å¯ä»¥é€šè¿‡è·¯å¾„æ¥æ­£ç¡®çš„å¼•ç”¨åˆ°æŸä¸ªæ¨¡å—ï¼Œè€Œä¸ç”¨æ”¹ä»£ç ï¼ˆfrom pkg4.demo import mainÂ  vsÂ  from module_learn.pkg4.demo import main,Â  Â è¿™ç§ç»å¯¹è·¯å¾„å¼•ç”¨é—®é¢˜ï¼Œåœ¨è‡ªå·±å†™äº†ä¸€ä¸ªåŒ…ï¼Œæä¾›ç»™å…¶ä»–äººå¼•ç”¨çš„æ—¶å€™å°¤å…¶å¸¸è§ï¼Œå› ä¸ºâ€œå½“å‰ç›®å½•â€ä¸æ­£ç¡®å˜›ï¼è€Œç›¸å¯¹è·¯å¾„å¼•ç”¨å®Œç¾çš„é¿å¼€äº†è¿™ä¸ªé—®é¢˜ï¼Œè¿˜æœ‰å…¶ä»–è§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚æŠŠåŒ…å®‰è£…åˆ° site-package ä¸‹é¢ï¼‰ã€‚<br>éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œ<strong>ç›¸å¯¹è·¯å¾„å¯¼å…¥åŒ…ï¼Œåªèƒ½ä½¿ç”¨ from *** import *** çš„è¯­æ³•</strong>ã€‚ è€Œç»å¯¹è·¯å¾„å¯¼å…¥åŒ…ï¼Œå³å¯ä»¥ä½¿ç”¨ import *** åˆå¯ä»¥ä½¿ç”¨Â  from *** import *** çš„è¯­æ³•ã€‚å¦ä¸€æ–¹é¢ï¼Œ<strong>ç›¸å¯¹å¯¼åŒ…ï¼Œå¿…é¡»ä½¿ç”¨ python -m æ‰§è¡Œ(å¦åˆ™æŠ¥ relative imports error )ï¼ï¼ï¼</strong><br>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ¨èä½¿ç”¨ç›¸å¯¹å¼•ç”¨ã€‚</p>
<h3 id="3-å†è®º-python-m"><a href="#3-å†è®º-python-m" class="headerlink" title="3. å†è®º python -m"></a>3. å†è®º python -m</h3><p>å†çœ‹ python -m ä¹‹å‰ï¼Œå…ˆæ¥æ˜ç¡®ä¸¤ä¸ªä¸œè¥¿ï¼š<br>â‘  å¦‚æœæƒ³æŠŠä¸€ä¸ª ç›®å½•ä½œä¸ºpackage å¯¹å¾…ï¼Œéœ€è¦åŒ…å«ä¸€ä¸ª <code>__init__.py</code> ï¼Œå†é‡Œé¢å¯ä»¥è§„å®šå½“å‰ package å¯¹å¤–æä¾›æœåŠ¡çš„æ¨¡å—éƒ½æœ‰å“ªäº›ã€‚<br>â‘¡ å¦‚æœæƒ³æŠŠä¸€ä¸ª ç›®å½•ä½œä¸º package æ‰§è¡Œï¼Œéœ€è¦åŒ…å«ä¸€ä¸ª <code>__main__.py</code>ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å¯ä»¥å°†pkgä½œä¸ºä¸€ä¸ªæ–‡ä»¶å¤¹æ‰§è¡Œï¼ˆè°ƒç”¨çš„æ˜¯ __main__.pyï¼‰ï¼š</span><br><span class="line">python pkg</span><br><span class="line">â€‹</span><br><span class="line">ä¹Ÿå¯ä»¥å°†pkgä½œä¸ºä¸€ä¸ªPackageæ‰§è¡Œï¼ˆé™¤äº†è°ƒç”¨ __main__.py å¤–ï¼Œä¼šæ‰§è¡Œ __init__.py çš„å†…å®¹ï¼‰ï¼š</span><br><span class="line">python -m pkg</span><br></pre></td></tr></table></figure>
<p>æ›´è¿›ä¸€æ­¥ï¼Œä¸Šé¢ä¸¤è€…è¿˜æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢? æœ€æ ¹æœ¬çš„åŒºåˆ«åœ¨äºï¼Œpython -m é™¤äº†è°ƒç”¨ <strong>main</strong>.py å¤–ï¼Œè¿˜ä¼šè°ƒç”¨ <strong>init</strong>.py , è¿™ç‚¹è¦æ³¨æ„ã€‚<br>ç›®å½•ç»“æ„:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€ pkg5</span><br><span class="line"> Â   â”œâ”€â”€ __init__.py</span><br><span class="line"> Â   â””â”€â”€ __main__.py</span><br></pre></td></tr></table></figure>
<p>æ–‡ä»¶å†…å®¹:<br>æ–‡ä»¶:  <code>__init__.py</code> </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;__init__&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;__init__.__name__&#x27;</span>, __name__)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;__init__.__package__&#x27;</span>, __package__)</span><br><span class="line">â€‹```</span><br><span class="line">æ–‡ä»¶: `__main__.py`</span><br><span class="line">```python</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">â€‹</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;__main__&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;__main__.__name__&#x27;</span>, __name__)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;__main__.__package__&#x27;</span>, __package__)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;sys.path&#x27;</span>, sys.path)</span><br></pre></td></tr></table></figure>
<p>â‘ . æ‰§è¡Œ: <code>python pkg5</code>ï¼Œè¾“å‡ºå¦‚ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">__main__</span><br><span class="line">(&#x27;__main__.__name__&#x27;, &#x27;__main__&#x27;)</span><br><span class="line">(&#x27;__main__.__package__&#x27;, &#x27;&#x27;)</span><br><span class="line">(&#x27;sys.path&#x27;, [&#x27;pkg5&#x27;, &#x27;/home/map/.jumbo/lib/python27.zip&#x27;, &#x27;/home/map/.jumbo/lib/python2.7&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/plat-linux2&#x27;, &#x27;/home/map/.jumbo/</span><br><span class="line">lib/python2.7/lib-tk&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-old&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-dynload&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/site-packages&#x27;</span><br><span class="line">])</span><br></pre></td></tr></table></figure>
<p>â‘¡. æ‰§è¡Œ: <code>python -m pkg5</code> , è¾“å‡ºå¦‚ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">__init__</span><br><span class="line">(&#x27;__init__.__name__&#x27;, &#x27;pkg5&#x27;)</span><br><span class="line">(&#x27;__init__.__package__&#x27;, &#x27;pkg5&#x27;)</span><br><span class="line">__main__</span><br><span class="line">(&#x27;__main__.__name__&#x27;, &#x27;__main__&#x27;)</span><br><span class="line">(&#x27;__main__.__package__&#x27;, &#x27;pkg5&#x27;)</span><br><span class="line">(&#x27;sys.path&#x27;, [&#x27;&#x27;, &#x27;/home/map/.jumbo/lib/python27.zip&#x27;, &#x27;/home/map/.jumbo/lib/python2.7&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/plat-linux2&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-tk&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-old&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/lib-dynload&#x27;, &#x27;/home/map/.jumbo/lib/python2.7/site-packages&#x27;])</span><br></pre></td></tr></table></figure>
<p>å…¶å® main æ–‡ä»¶è¾“å‡ºçš„å¼‚åŒå·²ç»å¾ˆæ¸…æ¥šäº†ï¼Œå°±æ˜¯python æ¨¡å—åŠ è½½æœºåˆ¶çš„ä¸åŒå¯¼è‡´çš„ã€‚ è€Œ <code>__init__.py</code> çš„ä¸åŒæ˜¯é‡ç‚¹ã€‚</p>
<blockquote>
<p>æ–‡ç« ç‰ˆæœ¬æ‰€æœ‰ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„.</p>
</blockquote>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>é—«æµ©å¼º</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://yanhaoqiang.cn/2020/07/05/python-%E5%8C%85%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3/">https://yanhaoqiang.cn/2020/07/05/python-%E5%8C%85%E6%9C%BA%E5%88%B6%E8%AF%A6%E8%A7%A3/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>Do you believe in <strong>DESTINY</strong>?</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/python/"># python</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>Â· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2020/07/08/python-%E6%97%A5%E6%9C%9F%E6%A8%A1%E5%9D%97%EF%BC%88time-datetime-%E5%82%BB%E5%82%BB%E5%88%86%E4%B8%8D%E6%B8%85%E6%A5%9A%EF%BC%89/">python æ—¥æœŸæ¨¡å—ï¼ˆtime/datetime å‚»å‚»åˆ†ä¸æ¸…æ¥šï¼‰</a>
            
            
            <a class="next" rel="next" href="/2020/05/03/javacpp%E5%AE%9E%E6%88%98-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/">javacppå®æˆ˜-ä»é›¶å¼€å§‹</a>
            
        </section>


    </article>
</div>

            </div>
            <footer id="footer" class="footer">
    <div class="copyright">
        <span>Â© é—«æµ©å¼º | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>

</html>